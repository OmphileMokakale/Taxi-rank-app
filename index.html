<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <!-- Alpine Plugins -->
    <script defer src="https://unpkg.com/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script>
 
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <title>Taxi Rank App</title>
    <link rel="stylesheet" href="style.css">
    <script src="index.js"></script>
</head>
<body>

  
    <section>
        <!-- <h1 class="fa-solid fa-van-shuttle">hhhhhhh</h1> -->
        <h1>Taxi Rank App</h1>
        <div class="tbl-header" x-data="rank">            
          <table class="table">
            <thead>
              <tr>
                <th scope="col">From</th>
                <th scope="col">To</th>
                <th scope="col">Passenger Actions</th>
                <th scope="col">Trips</th>
                <th scope="col">Taxi Fare</th>
                <th scope="col">Total Fare</th>
                <th scope="col">Available Taxis</th>
                <th scope="col">Total</th>
                <th scope="col">Taxi Actions</th>
              </tr>
            </thead>

            <template x-for="rank in ranks">
                <tr>
                    <td scope="row" x-text="mainRank"></td>   <!--  displays main rank on the table using x-text (Under Depature th) -->
                    <td x-text="rank.destination"></td> <!--  displays depature on the table using x-text (Under Destination th) -->
                    <td> <!--  Passenger action starts) -->
                        <button class="Mdesign S" @click="rank.addToQueue()">+</button> 
                        <span x-text="rank.queue"></span> 
                        <button class="Mdesign S" @click="rank.leaveQueue()">-</button>
                    </td><!--  Passenger action ends) -->
                    <td x-text="rank.trips"></td>
                    <td x-text="'R' + rank.taxifare"></td>
                    <td x-text="'R' + rank.totalFare()"></td>
                    <td x-text="rank.taxis"></td>
                    <td x-text="'R' + rank.total"></td>
                    <td>
                        <button class="Mdesign AW" @click="rank.leave()">Leave</button>
                    </td>
                </tr>
            </template>

            
               

            <template x-for="(field, index) in fields" :key="index">
                <tr>
                    <td scope="row" x-text="mainRank"></td>
                    <!-- <td x-text="field.destination"></td> -->
                    <td>  <div x-data="{Destination: $persist('hello world')}">
                        <input type="text" x-model:value="Destination" />
                      </div></td>
                 <td> <!--  Passenger action starts) -->
                    <button class="Mdesign S" @click="addToQueue()">+</button> 
                    <span x-text="queue"></span> 
                    <button class="Mdesign S" @click="leaveQueue()">-</button>
                </td><!--  Passenger action ends) -->
                 <td x-text="trips"></td>
                 <td x-text="'R' + taxifare"></td>
                 <td x-text="'R' + totalFare()"></td>
                 <td x-text="taxis"></td>
                    <td x-text="'R' + total"></td>
                    <td>
                        <button class="Mdesign AW" @click="leave()">Leave</button>
                    </td>
                  <td><button type="button" class="Mdesign Y" @click="removeField(index)">&times;</button></td>
               </tr>
              </template>
            <tfoot>
                <tr>
                  <td colspan="4" class="text-right"><button type="button" class="Mdesign AW" @click="addNewField()">+ Add Destination</button></td>
               </tr>
             </tfoot>
          </table>
        </div>
       
        </div>
      </section>
      
      
      <div class="made-with-love">
        Made with
        <i>â™¥</i> by
        <p>Omphile</p>
      </div>
</body>
</html>