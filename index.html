<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <title>Taxi Rank App</title>
    <link rel="stylesheet" href="style.css">
    <script src="index.js"></script>
</head>
<body>
    <section>
        <h1>Taxi Rank App</h1>
        <div class="tbl-header" x-data="rank">

            <div class ="AddDestination" x-data="{ open: false }">
                <button x-on:click="open = ! open ">Add Destination</button>
             
                <div x-show="open" x-transition>
                    <div class="mb-3">
                        <label for="name" class="form-label">Destination</label>
                        <input type="text" id="name" name="destination" class="form-control" minlength="1" placeholder="Destination" />
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label">Taxifare</label>
                        <input type="number" id="taxifare" name="taxifare" min="10" max="50">
                    </div>
            
                    <div class="mb-3">
                
                        <button @click="rank.AddDestination()"> Add </button> 
                   
                    </div>
                </div>
            </div>
            
          <table >
            <thead>
              <tr>
                <th>Departure</th>
                <th>Destination</th>
                <th>Passenger Actions</th>
                <th>Taxi Trips</th>
                <th>Taxi Fare</th>
                <th>Total Fare</th>
                <th>Available Taxis</th>
                <th>Taxi Grand Totall</th>
                <th>Taxi Actions</th>
              </tr>
            </thead>

            <template x-for="rank in ranks">
                <tr>
                    <td x-text="mainRank"></td>   <!--  displays main rank on the table using x-text (Under Depature th) -->
                    <td x-text="rank.destination"></td> <!--  displays depature on the table using x-text (Under Destination th) -->
                    <td> <!--  Passenger action starts) -->
                        <button @click="rank.addToQueue()">+</button> 
                        <span x-text="rank.queue"></span> 
                        <button @click="rank.leaveQueue()">-</button>
                    </td><!--  Passenger action ends) -->
                    <td x-text="rank.trips"></td>
                    <td x-text="'R' + rank.taxifare"></td>
                    <td x-text="'R' + rank.totalFare()"></td>
                    <td x-text="rank.taxis"></td>
                    <td x-text="'R' + rank.grandTotal()"></td>
                    <td>
                        <button @click="rank.leave()">Leave</button>
                    </td>


                </tr>
            </template>
          </table>
        </div>
       
        </div>
      </section>
      
      
      <div class="made-with-love">
        Made with
        <i>â™¥</i> by
        <p>Omphile</p>
      </div>
</body>
</html>